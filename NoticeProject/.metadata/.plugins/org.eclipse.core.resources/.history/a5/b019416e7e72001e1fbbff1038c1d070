<div class="card m-2" id="comments-new">
  <div class="card-body">
	<form>
	  <div class="mb-3">
	    <label class="form-label">닉네임</label>
	    <input type="text" class="form-control" id="new-comment-nickname">
	  </div>
	  <div class="mb-3">
	    <label class="form-label">댓글 내용</label>
	    <textarea type="text" class="form-control" row="3" id="new-comment-body"></textarea>
	  </div>
	  
	  <!-- 히든 인풋 -->
	  {{#soccerteams}}
	  	<input type="hidden" id="new-comment-soccerteams-id" value="{{id}}">
	  {{/soccerteams}}
	  
	  <button type="button" class="btn btn-primary" id="comment-create-btn">댓글 작성</button>
	</form>
  </div>
</div>

<script>
{
	const commentCreateBtn = document.querySelector("#comment-create-btn");
	
	commentCreateBtn.addEventListener
	(
		"click",
		function
		(
			const comment =
			{
				nickname: document.querySelector("#new-comment-nickname").value,
				body: document.querySelector("#new-comment-body").value,
				soccerteams_id: document.querySelector("#new-comment-soccerteams-id").value
			};
			
			const url = "/api/soccerteam/" + comment.soccerteams_id + "/comments";
			fetch
			(
				url,
				{
					method: "POST",
					headers: { "Content-Type": "application/json" },
					body: JSON.stringify(comment)
				}
			);
		)
	);
}
</script>